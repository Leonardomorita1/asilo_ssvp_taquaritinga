<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/pages/contato.css">
    <link rel="icon"
        href="https://www.ssvpbrasil.org.br/source/files/c/885/DECOM__-_Logotipo_SSVP_Brasil_-_azul_e_branco_01-716579_1022-1028-0-0.jpg">
    <title>Contato - Lar São Vicente de Paulo</title>
</head>

<body>
    <div id="header-placeholder"></div>

    <section class="contact-section py-5">
        <div class="container">

            <div class="row justify-content-center">
                <div class="col-lg-8 text-center mb-5 fade-in-down">
                    <h1>Fale Conosco</h1>
                    <p class="lead text-muted">Estamos prontos para ouvir você. Entre em contato por um dos canais
                        abaixo ou envie sua mensagem.</p>
                </div>
            </div>

            <div class="row g-4 mb-5">

                <div class="col-lg-4 col-md-6">
                    <div class="card contact-card text-center card-hover fade-in-left delay-1">
                        <a href="https://www.google.com/maps/place/Lar+S%C3%A3o+Vicente+de+Paulo/@-21.403773,-48.506282,257m/data=!3m1!1e3!4m6!3m5!1s0x94b9396c54979ad9:0x24f576fc8085ac03!8m2!3d-21.4036416!4d-48.5061347!16s%2Fg%2F11f1kj47jq?hl=pt-BR&entry=ttu&g_ep=EgoyMDI1MTEyMy4xIKXMDSoASAFQAw%3D%3D"
                            target="_blank" rel="noopener noreferrer" class="text-decoration-none text-dark">
                            <div class="card-body">
                                <i class="bi bi-geo-alt-fill contact-icon"></i>
                                <h5 class="card-title">Endereço</h5>
                                <p class="card-text">Rua São José, 1149 15900009<br>Taquaritinga, SP</p>
                            </div>
                        </a>

                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="card contact-card text-center card-hover fade-in-up delay-2">
                        <div class="card-body">
                            <i class="bi bi-telephone-fill contact-icon"></i>
                            <h5 class="card-title">Telefone</h5>
                            <p class="card-text">Atendimento Geral:<br>(16) 99112-8704</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-12 col-lg-4">
                    <div class="card contact-card text-center card-hover fade-in-right delay-3">
                        <a href="https://mail.google.com/mail/u/0/?hl=pt-BR#search/asilotaquaritinga%40hotmail.com?compose=new"
                            target="_blank" rel="noopener noreferrer" class="text-decoration-none text-dark">
                            <div class="card-body">
                                <i class="bi bi-envelope-at-fill contact-icon"></i>
                                <h5 class="card-title">E-mail</h5>
                                <p class="card-text">Envie sua mensagem para:<br>asilotaquaritinga@hotmail.com</p>
                            </div>
                        </a>
                    </div>
                </div>

            </div>

            <div class="row g-5 align-items-center">

                <div class="col-lg-6 map-container fade-in-left">
                    <div class="ratio ratio-4x3">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1268.3359849204649!2d-48.50658994255741!3d-21.403293326852104!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94b9396c54979ad9%3A0x24f576fc8085ac03!2sLar%20S%C3%A3o%20Vicente%20de%20Paulo!5e1!3m2!1spt-BR!2sbr!4v1759163889672!5m2!1spt-BR!2sbr"
                            style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>

                <div class="col-lg-6 fade-in-right">
                    <div class="contact-form-wrapper">
                        <h3 class="mb-4 text-center text-lg-start">Envie sua Mensagem</h3>

                        <!-- Mensagens de feedback -->
                        <div id="mensagemFeedback" class="alert d-none" role="alert"></div>

                        <form id="formContato" action="enviar-email.php" method="POST">
                            <!-- Campo honeypot para proteção contra spam (invisível) -->
                            <input type="text" name="website" style="display:none" tabindex="-1" autocomplete="off">

                            <div class="mb-3">
                                <label for="fullName" class="form-label">Nome Completo</label>
                                <input type="text" class="form-control" id="fullName" name="fullName" required>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">Telefone</label>
                                    <input type="tel" class="form-control" id="phone" name="phone" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">E-mail</label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="subject" class="form-label">Assunto</label>
                                <input type="text" class="form-control" id="subject" name="subject" required>
                            </div>

                            <div class="mb-3">
                                <label for="message" class="form-label">Mensagem</label>
                                <textarea class="form-control w-100" id="message" name="message" rows="5"
                                    required></textarea>
                            </div>

                            <button type="submit" class="btn btn-principal" id="btnEnviar">
                                <span class="btn-text">Enviar Mensagem</span>
                                <span class="spinner-border spinner-border-sm d-none" role="status"
                                    aria-hidden="true"></span>
                            </button>
                        </form>
                    </div>
                </div>

                <script>
                    document.getElementById('formContato').addEventListener('submit', function (e) {
                        e.preventDefault();

                        const form = this;
                        const btnEnviar = document.getElementById('btnEnviar');
                        const btnText = btnEnviar.querySelector('.btn-text');
                        const spinner = btnEnviar.querySelector('.spinner-border');
                        const mensagemFeedback = document.getElementById('mensagemFeedback');

                        // Desabilita o botão e mostra loading
                        btnEnviar.disabled = true;
                        btnText.textContent = 'Enviando...';
                        spinner.classList.remove('d-none');
                        mensagemFeedback.classList.add('d-none');

                        // Cria FormData com os dados do formulário
                        const formData = new FormData(form);

                        // Envia via AJAX
                        fetch('enviar-email.php', {
                            method: 'POST',
                            body: formData
                        })
                            .then(response => response.json())
                            .then(data => {
                                // Remove classes anteriores
                                mensagemFeedback.classList.remove('alert-success', 'alert-danger', 'd-none');

                                if (data.sucesso) {
                                    // Sucesso
                                    mensagemFeedback.classList.add('alert-success');
                                    mensagemFeedback.textContent = data.mensagem;
                                    form.reset(); // Limpa o formulário
                                } else {
                                    // Erro
                                    mensagemFeedback.classList.add('alert-danger');
                                    mensagemFeedback.textContent = data.mensagem;
                                }

                                // Scroll suave até a mensagem
                                mensagemFeedback.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            })
                            .catch(error => {
                                console.error('Erro:', error);
                                mensagemFeedback.classList.remove('d-none', 'alert-success');
                                mensagemFeedback.classList.add('alert-danger');
                                mensagemFeedback.textContent = 'Erro ao enviar mensagem. Por favor, tente novamente.';
                            })
                            .finally(() => {
                                // Reabilita o botão
                                btnEnviar.disabled = false;
                                btnText.textContent = 'Enviar Mensagem';
                                spinner.classList.add('d-none');
                            });
                    });
                </script>
            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <script src="assets/js/global/global.js"></script>
    <script src="assets/js/global/componentes.js"></script>
</body>

</html>